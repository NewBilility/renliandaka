<view class="container">
    <view class="announcement-detail">
        <view class="announcement-header">
            <text class="announcement-title">{{announcement.title}}</text>
            <text class="announcement-time">{{announcement.createTime}}</text>
        </view>
        <view class="announcement-content">{{announcement.content}}</view>
    </view>

    <view class="comments-section">
        <view class="section-title">评论列表</view>
        <view class="comment-list">
            <view class="comment-item" wx:for="{{announcement.comments}}" wx:key="id">
                <view class="comment-header">
                    <text class="comment-author">{{item.studentName}}</text>
                    <text class="comment-time">{{item.createTime}}</text>
                </view>
                <view class="comment-content">{{item.content}}</view>
                
                <view class="reply-section" wx:if="{{item.reply}}">
                    <view class="reply-content">
                        <text class="reply-label">管理员回复：</text>
                        <text>{{item.reply}}</text>
                    </view>
                </view>
                
                <view class="reply-section" wx:else>
                    <view class="reply-actions">
                        <button 
                            class="reply-btn" 
                            size="mini" 
                            data-id="{{item.id}}"
                            bindtap="showReplyInput"
                        >回复</button>
                    </view>
                    <view class="reply-input-section" wx:if="{{currentCommentId === item.id}}">
                        <input 
                            class="reply-input"
                            placeholder="请输入回复内容"
                            value="{{replyContent}}"
                            bindinput="handleReplyInput"
                        />
                        <button 
                            class="submit-reply-btn" 
                            size="mini"
                            bindtap="handleSubmitReply"
                        >提交</button>
                    </view>
                </view>
            </view>
        </view>
    </view>
</view> 